(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,t){e.exports=t(19)},17:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(3),l=t.n(r),i=(t(17),t(8)),c=t(1),s=t(4),m=t(5),u=t(9),p=t(6),d=t(10),v=(t(18),t(7)),h=t.n(v),f=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(u.a)(this,Object(p.a)(a).call(this))).setDirection=function(a){if(52===a.keyCode){var t=e.state.snake.velocity;if(1===t.col)return;var n=Object(c.a)({},t);n.row=0,n.col=-1,e.setState(function(e){var a=e.snake;return{snake:Object(c.a)({},a,{velocity:n})}})}else if(56===a.keyCode){var o=e.state.snake.velocity;if(1===o.row)return;var r=Object(c.a)({},o);r.row=-1,r.col=0,e.setState(function(e){var a=e.snake;return{snake:Object(c.a)({},a,{velocity:r})}})}else if(54===a.keyCode){var l=e.state.snake.velocity;if(-1===l.col)return;var i=Object(c.a)({},l);i.row=0,i.col=1,e.setState(function(e){var a=e.snake;return{snake:Object(c.a)({},a,{velocity:i})}})}else if(50===a.keyCode){var s=e.state.snake.velocity;if(-1===s.row)return;var m=Object(c.a)({},s);m.row=1,m.col=0,e.setState(function(e){var a=e.snake;return{snake:Object(c.a)({},a,{velocity:m})}})}},e.move=function(){e.moveTime=0,e.setState(function(a){var t=a.snake,n=a.snake,o=n.head,r=n.tail,l=a.apple,s=(a.moveInterval,e.isCollideApple()),m={snake:Object(c.a)({},t,{head:{row:o.row+t.velocity.row,col:o.col+t.velocity.col},tail:[o].concat(Object(i.a)(r))}),apple:s?e.randomApple():l,score:r.length,moveInterval:r.length?Math.min(Math.floor(1e3/r.length)+200,800):1e3};return s||m.snake.tail.pop(),m},function(){(e.isCollideEdge()||e.isTail(e.state.snake.head))&&(e.bg_m.pause(),e.setState({gameOver:!0}))})},e.isCollideEdge=function(){var a=e.state.snake.head;return a.row<0||a.row>e.SIZE-1||a.col<0||a.col>e.SIZE-1},e.isCollideApple=function(){var a=e.state,t=a.snake.head,n=a.apple;return n.row===t.row&&n.col===t.col},e.isApple=function(a){var t=e.state.apple;return a.row===t.row&&a.col===t.col},e.isHead=function(a){var t=e.state.snake.head;return a.row===t.row&&a.col===t.col},e.isTail=function(a){return void 0!==e.state.snake.tail.find(function(e){return e.row===a.row&&e.col===a.col})},e.handleStart=function(){console.log("START NEW GAME"),e.resetGame()},e.resetGame=function(){var a=e.state,t=a.board,n=a.apple,o=a.snake.head;t=e.createBoard(),n=e.randomApple(),o=e.randomCell(),e.bg_m.play(),e.setState(function(){return{board:t,apple:n,snake:{head:o,tail:[],velocity:{row:1,col:0}},score:0,gameOver:!1,moveInterval:1e3}},function(){return e.gameLoop()})},e.CELL_W=30,e.CELL_H=30,e.SIZE=20,e.BOARD_W=e.CELL_W*e.SIZE,e.BOARD_H=e.CELL_H*e.SIZE,e.moveTime=0,e.lastTime=0,e.bg_m=new Audio(h.a),"boolean"==typeof e.bg_m.loop?e.bg_m.loop=!0:e.bg_m.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),e.bg_m.play(),e.state={moveInterval:1e3,board:[],apple:{row:0,col:0},snake:{head:{row:Math.floor(e.SIZE/2)-1,col:Math.floor(e.SIZE/2)-1},tail:[],velocity:{row:1,col:0}},score:0,gameOver:!1},e.createBoard=function(){return Array.from({length:e.SIZE},function(a,t){return Array.from({length:e.SIZE},function(e,a){return{row:t,col:a}})})},e.randomApple=function(){var a=e.state.snake.head,t={row:Math.floor(Math.random()*(e.SIZE-2))+1,col:Math.floor(Math.random()*(e.SIZE-2))+1};return t.row===a.row&&t.col===a.col||e.isTail(t)?e.randomApple():t},e.randomCell=function(){return{row:Math.floor(Math.random()*(e.SIZE-2))+1,col:Math.floor(Math.random()*(e.SIZE-2))+1}},e.state.board=e.createBoard(),e.state.apple=e.randomApple(),e.state.snake.head=e.randomCell(),document.body.addEventListener("keypress",function(a){return e.setDirection(a)}),e.gameLoop(),e}return Object(d.a)(a,e),Object(m.a)(a,[{key:"gameLoop",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.state,n=t.gameOver,o=t.moveInterval;if(!n){var r=a-this.lastTime;this.lastTime=a,this.moveTime+=r,this.moveTime>=o&&this.move(),requestAnimationFrame(function(a){return e.gameLoop(a)})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.board,n=a.gameOver,r=a.snake.head,l=a.score,i=t.map(function(a,t){return a.map(function(a,n){return o.a.createElement("div",{key:"[".concat(n,";").concat(t,"]"),className:e.isHead(a)?"cell snake-head":e.isApple(a)?"cell apple":e.isTail(a)?"cell snake-tail":"cell"},"[",n,";",t,"]")})});return n&&(i=o.a.createElement("div",{className:"result-board"},o.a.createElement("p",{className:"game-over"},"GAME OVER"),o.a.createElement("span",{className:"game-pad",role:"img","aria-label":"game-pad"},"\ud83c\udfae"),o.a.createElement("button",{className:"try-again",onClick:function(){e.handleStart()}},"Try again"))),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"dashboard"},o.a.createElement("h2",null,"Controls"),o.a.createElement("span",{className:"snake-logo",role:"img","aria-label":"snake-image"},"\ud83d\udc0d"),o.a.createElement("p",{className:"score"},"Score: ",o.a.createElement("strong",null,l)),o.a.createElement("button",{className:"reset-game",onClick:function(){return e.resetGame()}},"Reset")),o.a.createElement("div",{className:"game-board"},o.a.createElement("h1",null,"React Snake Game ",o.a.createElement("span",{className:"snake-icon",role:"img","aria-label":"snake-icon"},"\ud83d\udc0d")),o.a.createElement("div",{className:"board"},i),o.a.createElement("div",{className:"tips"},this.isCollideEdge()?o.a.createElement("p",null,"You've really broken your head against the wall!",o.a.createElement("span",{role:"img","aria-label":"tip-icon-bell"}," \ud83d\udd14 "),"Who does this like you?",o.a.createElement("span",{role:"img","aria-label":"tip-icon-dizzy"}," \ud83d\ude35 ")):this.isTail(r)?o.a.createElement("p",null,"Bon appetit!",o.a.createElement("span",{role:"img","aria-label":"tip-icon-yourself"}," \ud83d\ude07 "),"Who does eat yourself!!!. You are a cannibal, brrr"):this.isCollideApple()?o.a.createElement("p",null,"Bon appetit!",o.a.createElement("span",{role:"img","aria-label":"tip-icon-eat"}," \ud83d\udc4c "),"You become fatter, but you are young, so it is no problem, but later..."):o.a.createElement("p",null,"Eat the apples",o.a.createElement("span",{role:"img","aria-label":"tip-icon-apple"}," \ud83c\udf4e "),", avoid own tail and edges",o.a.createElement("span",{role:"img","aria-label":"tip-icon-wall"}," \u26a0\ufe0f ")))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,a,t){e.exports=t.p+"static/media/battle.e71671b3.wav"}},[[11,1,2]]]);
//# sourceMappingURL=main.4e3e6dac.chunk.js.map